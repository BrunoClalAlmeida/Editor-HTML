<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fast HTML Editor</title>
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <div class="app" id="appRoot">
    <header class="header">
      <div class="header-top">
        <div class="logo">
          <div class="logo-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" />
              <polyline points="14 2 14 8 20 8" />
              <line x1="16" y1="13" x2="8" y2="13" />
              <line x1="16" y1="17" x2="8" y2="17" />
              <line x1="10" y1="9" x2="8" y2="9" />
            </svg>
          </div>
          <div class="logo-text">
            <h1>Fast HTML Editor</h1>
            <span class="subtitle">Edite textos de arquivos HTML rapidamente</span>
          </div>
        </div>
        <span id="dirtyText" class="status-badge">Nenhuma alteração.</span>
      </div>

      <div class="toolbar">
        <div class="btn-group">
          <button id="openBtn" class="btn btn-primary">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z" />
            </svg>
            Abrir HTML(s)
          </button>
          <button id="openZipBtn" class="btn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 8v13H3V8" />
              <path d="M23 3H1v5h22V3z" />
              <path d="M10 12h4" />
            </svg>
            Abrir ZIP
          </button>
        </div>

        <div class="btn-group">
          <button id="reloadBtn" class="btn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 2v6h-6" />
              <path d="M3 12a9 9 0 0 1 15-6.7L21 8" />
              <path d="M3 22v-6h6" />
              <path d="M21 12a9 9 0 0 1-15 6.7L3 16" />
            </svg>
            Recarregar
          </button>
          <button id="rescanBtn" class="btn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8" />
              <path d="m21 21-4.35-4.35" />
            </svg>
            Re-escanear
          </button>
        </div>

        <div class="btn-group btn-group-success">
          <button id="saveBtn" class="btn btn-success">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z" />
              <polyline points="17 21 17 13 7 13 7 21" />
              <polyline points="7 3 7 8 15 8" />
            </svg>
            Salvar atual
          </button>
          <button id="saveAllBtn" class="btn btn-success">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z" />
              <polyline points="17 21 17 13 7 13 7 21" />
              <polyline points="7 3 7 8 15 8" />
            </svg>
            Salvar todos
          </button>
        </div>

        <div class="btn-group btn-group-warning">
          <button id="exportZipBtn" class="btn btn-warning">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 8v13H3V8" />
              <path d="M23 3H1v5h22V3z" />
              <path d="M10 12h4" />
            </svg>
            Exportar ZIP
          </button>
          <button id="downloadBtn" class="btn" title="Fallback: baixar arquivo atual">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
              <polyline points="7 10 12 15 17 10" />
              <line x1="12" y1="15" x2="12" y2="3" />
            </svg>
            Baixar atual
          </button>
        </div>
      </div>

      <div class="viewControls">
        <label class="toggle-switch">
          <input type="checkbox" id="allModeToggle" checked>
          <span class="toggle-slider"></span>
          <span class="toggle-label">Ver todos juntos</span>
        </label>

        <div class="control-group">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="7" height="7" />
            <rect x="14" y="3" width="7" height="7" />
            <rect x="14" y="14" width="7" height="7" />
            <rect x="3" y="14" width="7" height="7" />
          </svg>
          <select id="densitySelect">
            <option value="comfortable" selected>Conforto</option>
            <option value="compact">Compacto</option>
          </select>
        </div>

        <div class="control-group">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="4 7 4 4 20 4 20 7" />
            <line x1="9" y1="20" x2="15" y2="20" />
            <line x1="12" y1="4" x2="12" y2="20" />
          </svg>
          <input id="fontSizeRange" type="range" min="12" max="18" value="14">
          <span id="fontSizeLabel" class="font-size-value">14px</span>
        </div>

        <div class="btn-group-sm">
          <button id="expandAllBtn" class="btn btn-sm">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="6 9 12 15 18 9" />
            </svg>
            Expandir
          </button>
          <button id="collapseAllBtn" class="btn btn-sm">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="18 15 12 9 6 15" />
            </svg>
            Recolher
          </button>
        </div>
      </div>
    </header>

    <section class="panel tabs-wrap">
      <div class="tabs" id="tabs"></div>
      <div class="fileMeta">
        <span id="fileInfo"></span>
      </div>
    </section>

    <main class="main">
      <section class="panel left">
        <div class="controls">
          <div class="search-box">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8" />
              <path d="m21 21-4.35-4.35" />
            </svg>
            <input type="search" id="search" placeholder="Filtrar por conteúdo…" />
          </div>
          <label class="checkbox-label">
            <input type="checkbox" id="shortToggle" checked>
            <span class="checkbox-custom"></span>
            Ocultar textos curtos (&lt; 3)
          </label>
          <label class="checkbox-label">
            <input type="checkbox" id="attrsToggle">
            <span class="checkbox-custom"></span>
            Incluir atributos (title/alt/aria-label)
          </label>
        </div>

        <div class="replaceBox">
          <div class="replace-input">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8" />
              <path d="m21 21-4.35-4.35" />
            </svg>
            <input type="text" id="findInput" placeholder="Buscar…" />
          </div>
          <div class="replace-arrow">→</div>
          <div class="replace-input">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
            </svg>
            <input type="text" id="replaceInput" placeholder="Substituir por…" />
          </div>
          <button id="replaceAllBtn" class="btn">Substituir tudo (Arquivo atual)</button>
        </div>

        <div class="list" id="textList"></div>
      </section>
    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
  <script src="./app.js"></script>
</body>

</html>